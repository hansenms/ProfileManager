@model ProfileManager.Models.Profile

@{
    ViewData["Title"] = "Details";
    var imageUrl = "/api/profile/image/" + Model.Photo;
}

<h2>Details</h2>

<div>
    <h4>Profile</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Id)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Id)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.FirstName)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.FirstName)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.LastName)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.LastName)
        </dd>
        <dt>
            @Html.DisplayNameFor(model => model.Department)
        </dt>
        <dd>
            @Html.DisplayFor(model => model.Department)
        </dd>
    </dl>
</div>
<div style="margin-bottom: 5px">
    <img id="profile-photo" width="200" src="@imageUrl" />
</div>

<div>
    <div class="wrapper" id="image-wrapper">
        <img id="outImage" width="200" src="/api/profile/image/1/no-picture-available.jpg" alt="ImageNotFound" />
        </br>
    </div>
    <div class="form-group">
        <form id="image-upload-form" enctype="multipart/form-data">
            <input style="width: 200px;" class="form-control" type="file" id="file"/>
        </form>
        Load validation image.
    </div>  
    <div class="alert alert-success" role="alert" id="feedback" style="visibility: hidden;"></div>  
</div>

<div>
    <a asp-action="Edit" asp-route-id="@Model.Id">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

<script lang="JavaScript">
    document.getElementById('file').onchange = loadVerificationProfileImageFromFile;
</script>

}